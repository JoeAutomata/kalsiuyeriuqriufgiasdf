<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>deMonIA üòà‚ú®</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --p√∫rpura: #6a0572;
  --rosa: #ff69b4;
  --celeste: #e0f7fa;
}

body {
  font-family: "Comic Sans MS", cursive;
  background: var(--celeste);
  display: flex;
  justify-content: center;
  padding: 20px;
}

.card {
  background: white;
  padding: 20px;
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0,0,0,.15);
  width: 100%;
  max-width: 560px;
  text-align: center;
}

input, textarea {
  width: 90%;
  padding: 10px;
  margin: 10px 0;
  border-radius: 12px;
  border: 2px solid #ddd;
  font-size: 16px;
}

button {
  background: var(--rosa);
  color: white;
  border: none;
  padding: 14px 30px;
  border-radius: 40px;
  font-size: 18px;
  cursor: pointer;
  font-weight: bold;
}

button:hover {
  background: #ff4795;
}

.hidden {
  display: none;
}

#image-box {
  margin-top: 20px;
}

#image-box img {
  width: 100%;
  border-radius: 20px;
  border: 4px solid var(--p√∫rpura);
}
</style>
</head>

<body>

<div class="card">
  <h1>deMonIA üòà‚ú®</h1>

  <div id="setup">
    <input id="nombre" placeholder="¬øC√≥mo te llamas?">
    <input id="edad" type="number" placeholder="¬øCu√°ntos a√±os tienes?">
    <textarea id="desc" placeholder="Describe tu criatura üêæ‚ú®"></textarea>
    <button onclick="crear()">Crear mi deMonIA</button>
  </div>

  <div id="juego" class="hidden">
    <h2 id="saludo"></h2>
    <div id="image-box"></div>
    <button onclick="reset()" style="margin-top:15px;background:#aaa;font-size:14px;">Crear otro</button>
  </div>
</div>

<script>
async function crear() {
  const nombreInput = document.getElementById("nombre").value;
  const edadInput = document.getElementById("edad").value;
  const desc = document.getElementById("desc").value;

  if (!nombreInput || !desc) {
    alert("Faltan datos üôÇ");
    return;
  }

  document.getElementById("setup").classList.add("hidden");
  document.getElementById("juego").classList.remove("hidden");

  document.getElementById("saludo").innerText =
    `Hola ${nombreInput} üëã‚ú® Tu deMonIA est√° naciendo...`;

  const prompt =
    `Cute fluffy kawaii monster for a ${edadInput} year old child,
    pastel colors, big eyes, friendly smile, cartoon illustration.
    Description: ${desc}`;

  const res = await fetch("/generate-image", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ prompt })
  });

  const data = await res.json();

  if (!data.image) {
    alert("‚ö†Ô∏è No se pudo generar la imagen");
    return;
  }

  document.getElementById("image-box").innerHTML =
    `<img src="${data.image}" alt="deMonIA">`;
}

function reset() {
  location.reload();
}
</script>


</body>
</html>

